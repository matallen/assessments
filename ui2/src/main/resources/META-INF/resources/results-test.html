<!DOCTYPE html>
<html lang="en">
<head>
    <title>Result Page</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- jsPDF library -->
    <script src = "https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
</head>
<body>
<button id="btn-print-preview" type="button">Print Preview</button>
<hr>
<link rel="stylesheet" media="print">
<div class="bs-example">
    <ul class="nav nav-tabs tabs-custom">
        <li class="">
            <a href="#tab1" data-toggle="tab">User Info</a>
        </li>
        <li class="active">
            <a href="#tab2" data-toggle="tab">Other Info</a>
        </li>
        <li class="">
            <a href="#tab3" data-toggle="tab">Email History</a>
        </li>

    </ul>
    <div class="tab-content" >

        <div class="tab-pane" id="tab1">

            <div class="row equal-height-columns">

                <!-- first column for create survey -->
                <div class="col col-md-6 col-md-with-separator">
                    <div class="form-horizontal">
                        <div class="form-group form-group-reduce-padding">
                            <label for="labelName" class="col-sm-6 control-label-padding"> Name:</label>
                            <div class="col-sm-6">
                                <p id="labelName" class="form-control-static"> John Smith </p>
                            </div>
                        </div>

                        <div class="form-group form-group-reduce-padding">
                            <label for="labelAddress" class="col-sm-6 control-label-padding"> Address:</label>
                            <div class="col-sm-6">
                                <p id="labelAddress" class="form-control-static"> No1, Some Street, Some Town, Dublin, D1</p>
                            </div>
                        </div>
                        <div class="form-group form-group-reduce-padding">
                            <label for="labelEmail" class="col-sm-6 control-label-padding">Email:</label>
                            <div class="col-sm-6">
                                <p id="labelEmail" class="form-control-static"> email@email.com </p>
                            </div>
                        </div>

                        <div class="form-group form-group-reduce-padding">
                            <label for="labelDOB" class="col-sm-6 control-label-padding">DOB:</label>
                            <div class="col-sm-6">
                                <p id="labelDOB" class="form-control-static">15/02/2015</p>
                            </div>
                        </div>

                        <div class="form-group form-group-reduce-padding">
                            <label for="labelStatus" class="col-sm-6 control-label-padding">Status:</label>
                            <div class="col-sm-6">
                                <p id="labelStatus" class="form-control-static"> Active</p>
                            </div>
                        </div>


                        <div class="form-group form-group-reduce-padding">
                            <label for="labelAccBlocked" class="col-sm-6 control-label-padding">Account Blocked:</label>
                            <div class="col-sm-6">
                                <p id="labelAccBlocked" class="form-control-static"> Yes</p>
                            </div>
                        </div>
                        <div class="form-group form-group-reduce-padding">
                            <label for="labelBlocked" class="col-sm-6 control-label-padding">Blocked Until Date:</label>
                            <div class="col-sm-6">
                                <p id="labelBlocked" class="form-control-static"> 01/01/2015</p>
                            </div>
                        </div>
                        <div class="form-group form-group-reduce-padding">
                            <label for="labelBlockedReason" class="col-sm-6 control-label-padding">Blocked Reason:</label>
                            <div class="col-sm-6">
                                <p id="labelBlockedReason" class="form-control-static"> Insurance renewal has passed</p>
                            </div>
                        </div>


                    </div>

                </div>

            </div>
        </div>
<div class="tab-pane active" id="tab2">
            <br>
            <p class="tab-header">Courses</p>
            <div class="table-responsive">
                <table class="table">
                    <tbody>
                    <tr>
                        <th>Stream</th>
                        <th>Institute</th>
                        <th>CourseID</th>
                        <th>Tutor</th>
                        <th>Date Course Completed</th>
                        <th>Course Location</th>
                    </tr>

                    <tr>
                        <td>NDBER</td>
                        <td>Carlow IT</td>
                        <td>ABC123</td>
                        <td>John Tutor</td>
                        <td>17/May/2014</td>
                        <td>Carlow</td>

                    </tr>
                    <tr>
                        <td>BER</td>
                        <td>Carlow IT</td>
                        <td>ABC321</td>
                        <td>Paul Tutor</td>
                        <td>02/Feb/2014</td>
                        <td>Carlow</td>

                    </tr>

                    </tbody>
                </table>
            </div>
            <p class="tab-header">Exam History</p>

        </div>

        <div class="tab-pane" id="tab3">
            <br>
            <p class="tab-header">Email History</p>
            <div class="table-responsive">
                <table class="table">
                    <tbody>
                    <tr>
                        <th>From</th>
                        <th>To</th>
                        <th>CC</th>
                        <th>Date</th>
                        <th>Subject</th>
                        <th>Message</th>
                        <th>Attachment</th>
                    </tr>

                    <tr>
                        <td>BER@aassss.ie</td>
                        <td>100025@test.net</td>
                        <td> </td>
                        <td>05/May/2014</td>
                        <td>Welcome dsad</td>
                        <td><a href="#">Dear John Welcome</a></td>
                        <td><a href="#">View</a></td>
                    </tr>

                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>
<script>
    $(document).ready(function(){
        var container = $('.bs-example'),
            cache_width = container.width(),
            a4 = [595.28, 841.89]; // for a4 size paper width and height
        $('#btn-print-preview').on('click', function(){
            $('.nav-tabs').hide();
            $headings = $('.nav-tabs li a');
            $('.tab-content .tab-pane').each(function(i, el){
                $(this)
                    .addClass('active')
                    .prepend('<h3>' + $($headings.get(i)).text() + '</h3>')
            });
            $('body').scrollTop(0);
            createPDF();
            function createPDF() {
                getCanvas().then(function(canvas) {
                    var img = canvas.toDataURL('image/png'),
                        doc = new jsPDF({
                            unit: 'px',
                            format: 'a4',
                        });
                    doc.addImage(img, 'JPEG', 20, 20);
                    doc.save('Your_Results');
                    container.width(cache_width);
                });
            }
            function getCanvas() {
                container.width(a4[0] * 1.33333 - 80).css('max-width', 'none');
                return html2canvas(container, {
                    imageTimeout: 2000,
                    removeContainer: true,
                    scale: 2,
                    dpi: 144
                });
            }
        });
        $('.nav-tabs').show();
    });
</script>
</body>
</html>