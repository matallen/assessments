<!DOCTYPE html>
<html lang="EN">
<head>
	<script type="text/javascript">
		var isLive=location.hostname.includes("assessments.redhat.com");
		document.write(`<script src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/`+(isLive?`trustarc.js`:`trustarc.stage.js`)+`" type="text/javascript"> <\/script>`);
		document.write(`<script id="dpal" src="https://www.redhat.com/ma/`+(isLive?`dpal.js`:`dpal-staging.js`)+`" type="text/javascript"> <\/script>`);
		console.log("DPAL "+(isLive?"PROD!":"DEV/STAGING"));
	</script>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Assessments | Red Hat Inc</title>
	<meta name="description" content="Red Hat Assessment Platform">
	<meta name="robots" content="noindex">
	<meta name="viewport" content="width=device-width, initial scale= 1.0">
	<meta property="og:title" content="Assessments | Red Hat Inc">
	<meta property="og:description" content="">
	<link rel="preload" href="/assets/fonts/RedHatText/RedHatText-Regular.woff" as="font" type="font/woff" crossorigin>
	<link rel="preload" href="/assets/fonts/RedHatText/RedHatText-Medium.woff" as="font" type="font/woff" crossorigin>
	<link rel="preload" href="/assets/fonts/RedHatDisplay/RedHatDisplay-Regular.woff" as="font" type="font/woff" crossorigin>
	<link rel="preload" href="/assets/fonts/RedHatDisplay/RedHatDisplay-Medium.woff" as="font" type="font/woff" crossorigin>
	<link rel="preload" href="/assets/fonts/RedHatDisplay/RedHatDisplay-Bold.woff" as="font" type="font/woff" crossorigin>
	<link type="text/css" rel="stylesheet" href="/assets/fonts/red-hat-font.css" media="all" />
	<link rel="icon" href="https://www.redhat.com/favicon.ico">
	<style id="customStyles">
	@import "https://www.redhat.com/ux/webdms/css/styles.min.css";
	</style>
	
	<!-- markdown library -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.6.4/showdown.min.js"></script>
	
	<script src="/assets/js/http.js"></script>
	<script src="/assets/js/utils.js"></script>
	<script src="/assets/js/cookies.js"></script>
	<script src="/assets/js/env.js"></script>
	
	<script src="https://unpkg.com/jquery"></script>
	<script src="https://surveyjs.azureedge.net/1.7.12/survey.jquery.js"></script>
	<link href="https://surveyjs.azureedge.net/1.7.12/modern.css" type="text/css" rel="stylesheet"/>
	
	<link href="/assets/css/survey-progress-panel.css" type="text/css" rel="stylesheet"/>
	<link href="/assets/css/header.css" type="text/css" rel="stylesheet"/>
	<link href="/assets/css/style.css" type="text/css" rel="stylesheet"/>
	<link href="/assets/css/footer.css" type="text/css" rel="stylesheet"/>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.js"></script>
	<link href="/assets/css/bootstrap-slider-10.0.0.css" rel="stylesheet"/>

	<script src="/assets/js/surveyjs-widgets-1.7.12.js"></script>
</head>

<body id="SurveyEngineBody" style="direction: inherit;">
<div id="header">
	<div class="navbar-container">
		<div class="container">
			<div class="row">
				<div class="col-md-3" >
					<a href="//www.redhat.com/" title="Red Hat"><img alt="Red Hat" data-alt-text="Red Hat" class="navbar-logo" src="/assets/images/red-hat_white.svg?t=1537976200708" title="Red Hat" > </a></div>
				<div class="col-md ">
					<!-- Language Selector (top right) -->
					<div class="LanguageSelectorContainer float-right">
						<select aria-label="Language" name="Q_lang" id="Q_lang" class="Q_lang" data-runtime-value="runtime.Selected">
						<!--
							<option value="DE" lang="DE" data-runtime-text="runtime.Language | property 'DE' | property 'DisplayName'">Deutsch</option>
							<option value="EN" lang="EN" selected data-runtime-text="runtime.Language | property 'EN' | property 'DisplayName'">English</option>
						-->
					<!--
							<option value="ES-ES" lang="ES-ES" data-runtime-text="runtime.Language | property 'ES-ES' | property 'DisplayName'">Español</option>
							<option value="FR" lang="FR" data-runtime-text="runtime.Language | property 'FR' | property 'DisplayName'">Français</option>
							<option value="IT" lang="IT" data-runtime-text="runtime.Language | property 'IT' | property 'DisplayName'">Italiano</option>
							<option value="PT" lang="PT" data-runtime-text="runtime.Language | property 'PT' | property 'DisplayName'">Português</option>
							<option value="KO" lang="KO" data-runtime-text="runtime.Language | property 'KO' | property 'DisplayName'">한국어</option>
							<option value="JA" lang="JA" data-runtime-text="runtime.Language | property 'JA' | property 'DisplayName'">日本語</option>
							<option value="ZH-S" lang="ZH-S" data-runtime-text="runtime.Language | property 'ZH-S' | property 'DisplayName'">简体中文</option>
					-->
						</select>
					</div>
					<script>
					var languageOptions=[{code:"en",text:"English"},{code:"de",text:"Deutsch"}]
					</script>
				</div>
			</div>
			
		</div>
	</div>
</div>
	
<script>
var languageCode="$LANGUAGE_CODE";
if (languageCode.includes("LANGUAGE_CODE")) languageCode=Utils.getParameterByName("lang");
if (undefined==languageCode || ""==languageCode) languageCode="en"; // default language code

var languageConfigOptions={
		"default":{code:"en",text:"English"},
		"de":{code:"de",text:"Deutsch"},
		"es":{code:"es",text:"Español"}
};

// Action Handlers
$("#Q_lang").change(function(sender) {
	languageCode=sender.currentTarget.options[sender.currentTarget.selectedIndex].value.toLowerCase();
	if (surveyStarted){
		survey.locale = languageCode;
		survey.render();
		generateNavigation(languageCode); // function is located in survey-template.js
	}
});

function getVisitorId(key){
	// Assign the visitor a unique ID
	if (undefined==Cookie.get(key) || ""==Cookie.get(key)){
		Cookie.set(key, Cookie.uuid(), 30);
	}else{
		var c=Cookie.get(key);
		console.log("Welcome back: "+c);
	}
	return Cookie.get(key);
}

function loadLanguageOptionsControl(questionConfig){
	// load language options here?
	var questionLanguages=questionConfig["completedHtml"]?questionConfig["completedHtml"]:questionConfig["completeText"];
	if (questionLanguages["default"]){ // then we have languages we need to parse
		var languageOptions=[];
		for (lang in questionLanguages) languageOptions.push(languageConfigOptions[lang]);
		var qLang="";
		for(i in languageOptions){
			qLang+=`<option value="`+languageOptions[i].code+`" lang="`+languageOptions[i].code+`" `+(languageCode==languageOptions[i].code?"selected":"")+` data-runtime-text="runtime.Language | property '`+languageOptions[i].code+`' | property 'DisplayName'">`+languageOptions[i].text+`</option>`;
		}
		$("#Q_lang").html(qLang);

	}else{
		// no languages, remove the control
		$("#Q_lang").remove();
	}
}

$(document).ready(function() {
	surveyId="$SURVEY_ID";
	if (surveyId.includes("SURVEY_ID")) surveyId=Utils.getParameterByName("surveyId");
	
	// determine language code (template, then parameter, then revert to default)
	//languageCode="$LANGUAGE_CODE";
//	if (languageCode.includes("LANGUAGE_CODE")) languageCode=Utils.getParameterByName("lang");
//	if (undefined==languageCode || ""==languageCode) languageCode="en"; // default language code
	
	// display language options
//	var qLang="";
//	for(i in languageOptions){
//		qLang+=`<option value="`+languageOptions[i].code+`" lang="`+languageOptions[i].code+`" `+(languageCode==languageOptions[i].code?"selected":"")+` data-runtime-text="runtime.Language | property '`+languageOptions[i].code+`' | property 'DisplayName'">`+languageOptions[i].text+`</option>`;
//	}
//	$("#Q_lang").html(qLang);
	
	//surveyId=Utils.getParameterByName("surveyId");
	
	visitorId=getVisitorId("rh_cat_visitorId");
	if (undefined!=surveyId){
		startSurvey();
	}else{
		$("#surveyElement").html("<center><h3>Unable to display an assessment</h3>No assessment ID provided - please check the URL<br/><br/></center>");
	}
	
});

</script>
	
	<div style="position:absolute; left: 0px;">
			<script src="/assets/js/knockout-3.4.0-min.js"></script>
			<script src="/assets/js/survey.ko-1.7.15.js"></script>
			<!--button onclick="$('#debug').html(JSON.stringify(survey.data, null, 2));">debug</button-->
		<pre id="debug" ></pre>
	</div>

	<section id="xsurvey" class=" py-0">
		<div class="container">
			<div class="row">
				<div class="col-md-3">
					<div id="surveyNavigation"></div>
				</div>
				<div id="survey-wrapper" class="col-md-9">
					<div id="surveyElement" class="surveyStyle"></div>
					<div id="surveyResult"></div>
				</div>
			</div>
		</div>
	</section>
	<script>
		var surveyId;
		var visitorId;
		var surveyStarted=false;
		var resultId;
		
		function startSurvey() {
			loadSurvey();
			if (Utils.getParameterByName("resultId")){
				resultId=Utils.getParameterByName("resultId");
				loadResults();
			}
		}
		
		function loadSurvey() {
			var surveyJsUrl=env.server+"/api/surveys/"+surveyId+"/survey-config.js"; // request a new assessment
			var surveyJSElement=document.createElement('script');
			surveyJSElement.src=surveyJsUrl;
			document.getElementsByTagName('head')[0].appendChild(surveyJSElement);
			surveyStarted=true;
		}
		
		function loadResults(){
			console.log("loadResults:: resultId="+resultId);
			if (typeof survey != 'undefined') {
				console.log("loadResults:: found survey");
				Http.httpGetObject(env.server+"/api/surveys/"+surveyId+"/results/"+resultId, function(status, answers){
					survey.data=answers;
					survey.mode='display';
					$(".sv_page_title").prepend("<span style='color:#c10000'>Read-only view of provided answers</span><br/><br/>");
				});
			}else{
				console.log("loadResults:: survey not loaded yet");
				setTimeout(loadResults, 1000);
			}
		}
		
	</script>

<div id="footer">
	<script>
	$(document).ready(function(){ $("#copyright-year").html(new Date().getFullYear()); });
	</script>
	<footer class="footerStyle">
		<div class="container">
			<div class="row">
				<div class="col-md-3"><a href="//www.redhat.com/" target="_blank" ><img alt="Red Hat" class="img-fluid" src="/assets/images/red-hat_white.svg" style="height: 34px !important;" href="//www.redhat.com/"></a></div>
				<div class="col-md-3 copyrightStyle">
					<p>Copyright &#169; <span id="copyright-year">2020</span>&nbsp;<span class="text-nowrap">Red Hat, Inc.</span></p>
				</div>
				<div class="col-md">
					<nav class="nav">
						<a class="nav-link"  target="_blank" href="https://www.redhat.com/en/about/privacy-policy" >Privacy statement</a>
						<span class ="rightBorder"></span>
						<a class="nav-link" target="_blank" href="https://www.redhat.com/en/about/terms-use">Terms of use</a>
						<span class ="rightBorder"></span>
						<a class="nav-link" target="_blank" href="https://www.redhat.com/en/about/all-policies-guidelines">All policies and guidelines</a>
					</nav>
				</div>
			</div>
		</div>
	</footer>
</div>

<span id="teconsent" style="line-height: 1.1;"></span>
<div id="consent_blackbar" style="position: fixed;bottom: 0;width: 100%;z-index: 5;padding: 10px;"></div>  

<!-- DPAL tracking -->
<script type="text/javascript">
//	if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
//		_satellite.pageBottom();
//	}
</script>

</body>
</html>
